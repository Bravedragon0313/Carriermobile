{"version":3,"sources":["/home/itexpert/Documents/DolceGrocery/node_modules/@ionic-native/geolocation/ngx/index.js","./src/pages/main/main.html","./src/pages/main/delivery/delivery.module.guard.ts","./src/pages/main/drive-to-warehouse/drive-to-warehouse.module.guard.ts","./src/pages/main/home/home.module.guard.ts","./src/pages/main/main.module.ts","./src/pages/main/main.scss","./src/pages/main/main.ts","./src/pages/main/starting-delivery/starting-delivery.module.guard.ts","./src/services/geo-location.service.ts"],"names":[],"mappings":"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","file":"main-main-module.js","sourcesContent":["import { __decorate, __extends } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { IonicNativePlugin, cordova } from '@ionic-native/core';\nimport { Observable } from 'rxjs';\nvar Geolocation = /** @class */ (function (_super) {\n    __extends(Geolocation, _super);\n    function Geolocation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Geolocation.prototype.getCurrentPosition = function (options) { return cordova(this, \"getCurrentPosition\", { \"callbackOrder\": \"reverse\" }, arguments); };\n    /**\n     * Watch the current device's position.  Clear the watch by unsubscribing from\n     * Observable changes.\n     *\n     * ```typescript\n     * const subscription = this.geolocation.watchPosition()\n     *                               .filter((p) => p.coords !== undefined) //Filter Out Errors\n     *                               .subscribe(position => {\n     *   console.log(position.coords.longitude + ' ' + position.coords.latitude);\n     * });\n     *\n     * // To stop notifications\n     * subscription.unsubscribe();\n     * ```\n     *\n     * @param {GeolocationOptions} options  The [geolocation options](https://developer.mozilla.org/en-US/docs/Web/API/PositionOptions).\n     * @returns {Observable<Geoposition>} Returns an Observable that notifies with the [position](https://developer.mozilla.org/en-US/docs/Web/API/Position) of the device, or errors.\n     */\n    Geolocation.prototype.watchPosition = function (options) {\n        return new Observable(function (observer) {\n            var watchId = navigator.geolocation.watchPosition(observer.next.bind(observer), observer.next.bind(observer), options);\n            return function () { return navigator.geolocation.clearWatch(watchId); };\n        });\n    };\n    Geolocation.pluginName = \"Geolocation\";\n    Geolocation.plugin = \"cordova-plugin-geolocation\";\n    Geolocation.pluginRef = \"navigator.geolocation\";\n    Geolocation.repo = \"https://github.com/apache/cordova-plugin-geolocation\";\n    Geolocation.install = \"ionic cordova plugin add cordova-plugin-geolocation --variable GEOLOCATION_USAGE_DESCRIPTION=\\\"To locate you\\\"\";\n    Geolocation.installVariables = [\"GEOLOCATION_USAGE_DESCRIPTION\"];\n    Geolocation.platforms = [\"Amazon Fire OS\", \"Android\", \"Browser\", \"iOS\", \"Windows\"];\n    Geolocation = __decorate([\n        Injectable()\n    ], Geolocation);\n    return Geolocation;\n}(IonicNativePlugin));\nexport { Geolocation };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGlvbmljLW5hdGl2ZS9wbHVnaW5zL2dlb2xvY2F0aW9uL25neC9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLDhCQUFzQyxNQUFNLG9CQUFvQixDQUFDO0FBQ3hFLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxNQUFNLENBQUM7O0lBaUtELCtCQUFpQjs7OztJQVVoRCx3Q0FBa0IsYUFBQyxPQUE0QjtJQUkvQzs7Ozs7Ozs7Ozs7Ozs7Ozs7T0FpQkc7SUFDSCxtQ0FBYSxHQUFiLFVBQWMsT0FBNEI7UUFDeEMsT0FBTyxJQUFJLFVBQVUsQ0FBYyxVQUFDLFFBQWE7WUFDL0MsSUFBTSxPQUFPLEdBQUcsU0FBUyxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQ2pELFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUM1QixRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsRUFDNUIsT0FBTyxDQUNSLENBQUM7WUFDRixPQUFPLGNBQU0sT0FBQSxTQUFTLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsRUFBekMsQ0FBeUMsQ0FBQztRQUN6RCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7Ozs7Ozs7O0lBekNVLFdBQVc7UUFEdkIsVUFBVSxFQUFFO09BQ0EsV0FBVztzQkFuS3hCO0VBbUtpQyxpQkFBaUI7U0FBckMsV0FBVyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvcmRvdmEsIElvbmljTmF0aXZlUGx1Z2luLCBQbHVnaW4gfSBmcm9tICdAaW9uaWMtbmF0aXZlL2NvcmUnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuXG5kZWNsYXJlIGNvbnN0IG5hdmlnYXRvcjogYW55O1xuXG5leHBvcnQgaW50ZXJmYWNlIENvb3JkaW5hdGVzIHtcbiAgLyoqXG4gICAqIGEgZG91YmxlIHJlcHJlc2VudGluZyB0aGUgcG9zaXRpb24ncyBsYXRpdHVkZSBpbiBkZWNpbWFsIGRlZ3JlZXMuXG4gICAqL1xuICBsYXRpdHVkZTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBBIGRvdWJsZSByZXByZXNlbnRpbmcgdGhlIHBvc2l0aW9uJ3MgbG9uZ2l0dWRlIGluIGRlY2ltYWwgZGVncmVlcy5cbiAgICovXG4gIGxvbmdpdHVkZTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBBIGRvdWJsZSByZXByZXNlbnRpbmcgdGhlIGFjY3VyYWN5IG9mIHRoZSBsYXRpdHVkZSBhbmQgbG9uZ2l0dWRlIHByb3BlcnRpZXMsXG4gICAqIGV4cHJlc3NlZCBpbiBtZXRlcnMuXG4gICAqL1xuICBhY2N1cmFjeTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBBIGRvdWJsZSByZXByZXNlbnRpbmcgdGhlIHBvc2l0aW9uJ3MgYWx0aXR1ZGUgaW4gbWV0cmVzLCByZWxhdGl2ZSB0byBzZWFcbiAgICogbGV2ZWwuIFRoaXMgdmFsdWUgY2FuIGJlIG51bGwgaWYgdGhlIGltcGxlbWVudGF0aW9uIGNhbm5vdCBwcm92aWRlIHRoZSBkYXRhLlxuICAgKi9cbiAgYWx0aXR1ZGU6IG51bWJlcjtcblxuICAvKipcbiAgICogQSBkb3VibGUgcmVwcmVzZW50aW5nIHRoZSBhY2N1cmFjeSBvZiB0aGUgYWx0aXR1ZGUgZXhwcmVzc2VkIGluIG1ldGVycy5cbiAgICogVGhpcyB2YWx1ZSBjYW4gYmUgbnVsbC5cbiAgICovXG4gIGFsdGl0dWRlQWNjdXJhY3k6IG51bWJlcjtcblxuICAvKipcbiAgICogQSBkb3VibGUgcmVwcmVzZW50aW5nIHRoZSBkaXJlY3Rpb24gaW4gd2hpY2ggdGhlIGRldmljZSBpcyB0cmF2ZWxpbmcuIFRoaXNcbiAgICogdmFsdWUsIHNwZWNpZmllZCBpbiBkZWdyZWVzLCBpbmRpY2F0ZXMgaG93IGZhciBvZmYgZnJvbSBoZWFkaW5nIHRydWUgbm9ydGhcbiAgICogdGhlIGRldmljZSBpcy4gMCBkZWdyZWVzIHJlcHJlc2VudHMgdHJ1ZSBub3J0aCwgYW5kIHRoZSBkaXJlY3Rpb24gaXNcbiAgICogZGV0ZXJtaW5lZCBjbG9ja3dpc2UgKHdoaWNoIG1lYW5zIHRoYXQgZWFzdCBpcyA5MCBkZWdyZWVzIGFuZCB3ZXN0IGlzIDI3MFxuICAgKiBkZWdyZWVzKS4gSWYgc3BlZWQgaXMgMCwgaGVhZGluZyBpcyBOYU4uIElmIHRoZSBkZXZpY2UgaXMgdW5hYmxlIHRvIHByb3ZpZGVcbiAgICogaGVhZGluZyBpbmZvcm1hdGlvbiwgdGhpcyB2YWx1ZSBpcyBudWxsLlxuICAgKi9cbiAgaGVhZGluZzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBBIGRvdWJsZSByZXByZXNlbnRpbmcgdGhlIHZlbG9jaXR5IG9mIHRoZSBkZXZpY2UgaW4gbWV0ZXJzIHBlciBzZWNvbmQuXG4gICAqIFRoaXMgdmFsdWUgY2FuIGJlIG51bGwuXG4gICAqL1xuICBzcGVlZDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdlb3Bvc2l0aW9uIHtcbiAgLyoqXG4gICAqIEEgQ29vcmRpbmF0ZXMgb2JqZWN0IGRlZmluaW5nIHRoZSBjdXJyZW50IGxvY2F0aW9uXG4gICAqL1xuICBjb29yZHM6IENvb3JkaW5hdGVzO1xuXG4gIC8qKlxuICAgKiBBIHRpbWVzdGFtcCByZXByZXNlbnRpbmcgdGhlIHRpbWUgYXQgd2hpY2ggdGhlIGxvY2F0aW9uIHdhcyByZXRyaWV2ZWQuXG4gICAqL1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQb3NpdGlvbkVycm9yIHtcbiAgLyoqXG4gICAqIEEgY29kZSB0aGF0IGluZGljYXRlcyB0aGUgZXJyb3IgdGhhdCBvY2N1cnJlZFxuICAgKi9cbiAgY29kZTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBBIG1lc3NhZ2UgdGhhdCBjYW4gZGVzY3JpYmUgdGhlIGVycm9yIHRoYXQgb2NjdXJyZWRcbiAgICovXG4gIG1lc3NhZ2U6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZW9sb2NhdGlvbk9wdGlvbnMge1xuICAvKipcbiAgICogSXMgYSBwb3NpdGl2ZSBsb25nIHZhbHVlIGluZGljYXRpbmcgdGhlIG1heGltdW0gYWdlIGluIG1pbGxpc2Vjb25kcyBvZiBhXG4gICAqIHBvc3NpYmxlIGNhY2hlZCBwb3NpdGlvbiB0aGF0IGlzIGFjY2VwdGFibGUgdG8gcmV0dXJuLiBJZiBzZXQgdG8gMCwgaXRcbiAgICogbWVhbnMgdGhhdCB0aGUgZGV2aWNlIGNhbm5vdCB1c2UgYSBjYWNoZWQgcG9zaXRpb24gYW5kIG11c3QgYXR0ZW1wdCB0b1xuICAgKiByZXRyaWV2ZSB0aGUgcmVhbCBjdXJyZW50IHBvc2l0aW9uLiBJZiBzZXQgdG8gSW5maW5pdHkgdGhlIGRldmljZSBtdXN0XG4gICAqIHJldHVybiBhIGNhY2hlZCBwb3NpdGlvbiByZWdhcmRsZXNzIG9mIGl0cyBhZ2UuIERlZmF1bHQ6IDAuXG4gICAqL1xuICBtYXhpbXVtQWdlPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBJcyBhIHBvc2l0aXZlIGxvbmcgdmFsdWUgcmVwcmVzZW50aW5nIHRoZSBtYXhpbXVtIGxlbmd0aCBvZiB0aW1lXG4gICAqIChpbiBtaWxsaXNlY29uZHMpIHRoZSBkZXZpY2UgaXMgYWxsb3dlZCB0byB0YWtlIGluIG9yZGVyIHRvIHJldHVybiBhXG4gICAqIHBvc2l0aW9uLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBJbmZpbml0eSwgbWVhbmluZyB0aGF0IGdldEN1cnJlbnRQb3NpdGlvbigpXG4gICAqIHdvbid0IHJldHVybiB1bnRpbCB0aGUgcG9zaXRpb24gaXMgYXZhaWxhYmxlLlxuICAgKi9cbiAgdGltZW91dD86IG51bWJlcjtcblxuICAvKipcbiAgICogSW5kaWNhdGVzIHRoZSBhcHBsaWNhdGlvbiB3b3VsZCBsaWtlIHRvIHJlY2VpdmUgdGhlIGJlc3QgcG9zc2libGUgcmVzdWx0cy5cbiAgICogSWYgdHJ1ZSBhbmQgaWYgdGhlIGRldmljZSBpcyBhYmxlIHRvIHByb3ZpZGUgYSBtb3JlIGFjY3VyYXRlIHBvc2l0aW9uLCBpdFxuICAgKiB3aWxsIGRvIHNvLiBOb3RlIHRoYXQgdGhpcyBjYW4gcmVzdWx0IGluIHNsb3dlciByZXNwb25zZSB0aW1lcyBvciBpbmNyZWFzZWRcbiAgICogcG93ZXIgY29uc3VtcHRpb24gKHdpdGggYSBHUFMgY2hpcCBvbiBhIG1vYmlsZSBkZXZpY2UgZm9yIGV4YW1wbGUpLiBPbiB0aGVcbiAgICogb3RoZXIgaGFuZCwgaWYgZmFsc2UsIHRoZSBkZXZpY2UgY2FuIHRha2UgdGhlIGxpYmVydHkgdG8gc2F2ZSByZXNvdXJjZXMgYnlcbiAgICogcmVzcG9uZGluZyBtb3JlIHF1aWNrbHkgYW5kL29yIHVzaW5nIGxlc3MgcG93ZXIuIERlZmF1bHQ6IGZhbHNlLlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIGVuYWJsZUhpZ2hBY2N1cmFjeT86IGJvb2xlYW47XG59XG5cbi8qKlxuICogQG5hbWUgR2VvbG9jYXRpb25cbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBwbHVnaW4gcHJvdmlkZXMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGRldmljZSdzIGxvY2F0aW9uLCBzdWNoIGFzIGxhdGl0dWRlIGFuZCBsb25naXR1ZGUuIENvbW1vbiBzb3VyY2VzIG9mIGxvY2F0aW9uIGluZm9ybWF0aW9uIGluY2x1ZGUgR2xvYmFsIFBvc2l0aW9uaW5nIFN5c3RlbSAoR1BTKSBhbmQgbG9jYXRpb24gaW5mZXJyZWQgZnJvbSBuZXR3b3JrIHNpZ25hbHMgc3VjaCBhcyBJUCBhZGRyZXNzLCBSRklELCBXaUZpIGFuZCBCbHVldG9vdGggTUFDIGFkZHJlc3NlcywgYW5kIEdTTS9DRE1BIGNlbGwgSURzLlxuICpcbiAqICBUaGlzIEFQSSBpcyBiYXNlZCBvbiB0aGUgVzNDIEdlb2xvY2F0aW9uIEFQSSBTcGVjaWZpY2F0aW9uLCBhbmQgb25seSBleGVjdXRlcyBvbiBkZXZpY2VzIHRoYXQgZG9uJ3QgYWxyZWFkeSBwcm92aWRlIGFuIGltcGxlbWVudGF0aW9uLlxuICpcbiAqIEZvciBpT1MgeW91IGhhdmUgdG8gYWRkIHRoaXMgY29uZmlndXJhdGlvbiB0byB5b3VyIGNvbmZpZ3VyYXRpb24ueG1sIGZpbGVcbiAqIGBgYHhtbFxuICogPGVkaXQtY29uZmlnIGZpbGU9XCIqLUluZm8ucGxpc3RcIiBtb2RlPVwibWVyZ2VcIiB0YXJnZXQ9XCJOU0xvY2F0aW9uV2hlbkluVXNlVXNhZ2VEZXNjcmlwdGlvblwiPlxuICogICAgPHN0cmluZz5XZSB1c2UgeW91ciBsb2NhdGlvbiBmb3IgZnVsbCBmdW5jdGlvbmFsaXR5IG9mIGNlcnRhaW4gYXBwIGZlYXR1cmVzLjwvc3RyaW5nPlxuICogPC9lZGl0LWNvbmZpZz5cbiAqIGBgYFxuICpcbiAqXG4gKiBAdXNhZ2VcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyBHZW9sb2NhdGlvbiB9IGZyb20gJ0Bpb25pYy1uYXRpdmUvZ2VvbG9jYXRpb24vbmd4JztcbiAqXG4gKiAuLi5cbiAqXG4gKiBjb25zdHJ1Y3Rvcihwcml2YXRlIGdlb2xvY2F0aW9uOiBHZW9sb2NhdGlvbikge31cbiAqXG4gKiAuLi5cbiAqXG4gKiB0aGlzLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbigpLnRoZW4oKHJlc3ApID0+IHtcbiAqICAvLyByZXNwLmNvb3Jkcy5sYXRpdHVkZVxuICogIC8vIHJlc3AuY29vcmRzLmxvbmdpdHVkZVxuICogfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gKiAgIGNvbnNvbGUubG9nKCdFcnJvciBnZXR0aW5nIGxvY2F0aW9uJywgZXJyb3IpO1xuICogfSk7XG4gKlxuICogbGV0IHdhdGNoID0gdGhpcy5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKCk7XG4gKiB3YXRjaC5zdWJzY3JpYmUoKGRhdGEpID0+IHtcbiAqICAvLyBkYXRhIGNhbiBiZSBhIHNldCBvZiBjb29yZGluYXRlcywgb3IgYW4gZXJyb3IgKGlmIGFuIGVycm9yIG9jY3VycmVkKS5cbiAqICAvLyBkYXRhLmNvb3Jkcy5sYXRpdHVkZVxuICogIC8vIGRhdGEuY29vcmRzLmxvbmdpdHVkZVxuICogfSk7XG4gKiBgYGBcbiAqIEBpbnRlcmZhY2VzXG4gKiBDb29yZGluYXRlc1xuICogR2VvcG9zaXRpb25cbiAqIFBvc2l0aW9uRXJyb3JcbiAqIEdlb2xvY2F0aW9uT3B0aW9uc1xuICovXG5AUGx1Z2luKHtcbiAgcGx1Z2luTmFtZTogJ0dlb2xvY2F0aW9uJyxcbiAgcGx1Z2luOiAnY29yZG92YS1wbHVnaW4tZ2VvbG9jYXRpb24nLFxuICBwbHVnaW5SZWY6ICduYXZpZ2F0b3IuZ2VvbG9jYXRpb24nLFxuICByZXBvOiAnaHR0cHM6Ly9naXRodWIuY29tL2FwYWNoZS9jb3Jkb3ZhLXBsdWdpbi1nZW9sb2NhdGlvbicsXG4gIGluc3RhbGw6XG4gICAgJ2lvbmljIGNvcmRvdmEgcGx1Z2luIGFkZCBjb3Jkb3ZhLXBsdWdpbi1nZW9sb2NhdGlvbiAtLXZhcmlhYmxlIEdFT0xPQ0FUSU9OX1VTQUdFX0RFU0NSSVBUSU9OPVwiVG8gbG9jYXRlIHlvdVwiJyxcbiAgaW5zdGFsbFZhcmlhYmxlczogWydHRU9MT0NBVElPTl9VU0FHRV9ERVNDUklQVElPTiddLFxuICBwbGF0Zm9ybXM6IFsnQW1hem9uIEZpcmUgT1MnLCAnQW5kcm9pZCcsICdCcm93c2VyJywgJ2lPUycsICdXaW5kb3dzJ11cbn0pXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgR2VvbG9jYXRpb24gZXh0ZW5kcyBJb25pY05hdGl2ZVBsdWdpbiB7XG4gIC8qKlxuICAgKiBHZXQgdGhlIGRldmljZSdzIGN1cnJlbnQgcG9zaXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7R2VvbG9jYXRpb25PcHRpb25zfSBvcHRpb25zICBUaGUgW2dlb2xvY2F0aW9uIG9wdGlvbnNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb3NpdGlvbk9wdGlvbnMpLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxHZW9wb3NpdGlvbj59IFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgW3Bvc2l0aW9uXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9zaXRpb24pIG9mIHRoZSBkZXZpY2UsIG9yIHJlamVjdHMgd2l0aCBhbiBlcnJvci5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBjYWxsYmFja09yZGVyOiAncmV2ZXJzZSdcbiAgfSlcbiAgZ2V0Q3VycmVudFBvc2l0aW9uKG9wdGlvbnM/OiBHZW9sb2NhdGlvbk9wdGlvbnMpOiBQcm9taXNlPEdlb3Bvc2l0aW9uPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFdhdGNoIHRoZSBjdXJyZW50IGRldmljZSdzIHBvc2l0aW9uLiAgQ2xlYXIgdGhlIHdhdGNoIGJ5IHVuc3Vic2NyaWJpbmcgZnJvbVxuICAgKiBPYnNlcnZhYmxlIGNoYW5nZXMuXG4gICAqXG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogY29uc3Qgc3Vic2NyaXB0aW9uID0gdGhpcy5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKClcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigocCkgPT4gcC5jb29yZHMgIT09IHVuZGVmaW5lZCkgLy9GaWx0ZXIgT3V0IEVycm9yc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKHBvc2l0aW9uID0+IHtcbiAgICogICBjb25zb2xlLmxvZyhwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlICsgJyAnICsgcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlKTtcbiAgICogfSk7XG4gICAqXG4gICAqIC8vIFRvIHN0b3Agbm90aWZpY2F0aW9uc1xuICAgKiBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSB7R2VvbG9jYXRpb25PcHRpb25zfSBvcHRpb25zICBUaGUgW2dlb2xvY2F0aW9uIG9wdGlvbnNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb3NpdGlvbk9wdGlvbnMpLlxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxHZW9wb3NpdGlvbj59IFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IG5vdGlmaWVzIHdpdGggdGhlIFtwb3NpdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1Bvc2l0aW9uKSBvZiB0aGUgZGV2aWNlLCBvciBlcnJvcnMuXG4gICAqL1xuICB3YXRjaFBvc2l0aW9uKG9wdGlvbnM/OiBHZW9sb2NhdGlvbk9wdGlvbnMpOiBPYnNlcnZhYmxlPEdlb3Bvc2l0aW9uPiB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPEdlb3Bvc2l0aW9uPigob2JzZXJ2ZXI6IGFueSkgPT4ge1xuICAgICAgY29uc3Qgd2F0Y2hJZCA9IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKFxuICAgICAgICBvYnNlcnZlci5uZXh0LmJpbmQob2JzZXJ2ZXIpLFxuICAgICAgICBvYnNlcnZlci5uZXh0LmJpbmQob2JzZXJ2ZXIpLFxuICAgICAgICBvcHRpb25zXG4gICAgICApO1xuICAgICAgcmV0dXJuICgpID0+IG5hdmlnYXRvci5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKHdhdGNoSWQpO1xuICAgIH0pO1xuICB9XG59XG4iXX0=","export default \"<ion-header class=\\\"bar-brand bar bar-header disable-user-behavior\\\">\\n\\t<h1 class=\\\"title\\\" id=\\\"main-title\\\">\\n\\t\\t<!--\\n\\t\\t\\t<img ng-if=\\\"sideMenuCtrl.titleImageSrc\\\" ng-src=\\\"{{sideMenuCtrl.titleImageSrc}}\\\" style=\\\"height: 15px;\\\"/>\\n\\t\\t-->\\n\\t\\t<span>{{ 'MAIN_VIEW.EVERCO_DRIVER' | translate }}</span>\\n\\t</h1>\\n\\t<div class=\\\"buttons buttons-left header-item\\\">\\n\\t\\t<span class=\\\"left-buttons\\\">\\n\\t\\t\\t<div class=\\\"waves-effect waves-classic\\\">\\n\\t\\t\\t\\t<ion-menu-toggle class=\\\"button-icon\\\">\\n\\t\\t\\t\\t\\t<ion-icon ios=\\\"ios-menu\\\" md=\\\"md-menu\\\"></ion-icon>\\n\\t\\t\\t\\t</ion-menu-toggle>\\n\\t\\t\\t</div>\\n\\t\\t</span>\\n\\t</div>\\n</ion-header>\\n\\n<ion-content class=\\\"carrier-view\\\" scroll=\\\"false\\\">\\n\\t<div *ngIf=\\\"selectedOrder?.isCancelled\\\" class=\\\"money-amount-container\\\">\\n\\t\\t<div class=\\\"money-amount\\\">\\n\\t\\t\\t<!-- TODO add translate -->\\n\\t\\t\\tThe customer cancel order\\n\\t\\t</div>\\n\\t</div>\\n\\t<ion-router-outlet></ion-router-outlet>\\n</ion-content>\\n\"","import { Injectable } from '@angular/core';\nimport { CanLoad, Route, Router } from '@angular/router';\nimport { Store } from 'services/store.service';\n\n@Injectable()\nexport class DeliveryModuleGuard implements CanLoad {\n\tconstructor(\n\t\tprivate readonly store: Store,\n\t\tprivate readonly router: Router\n\t) {}\n\n\tasync canLoad(route: Route) {\n\t\tconst orderId = await this.store.orderId;\n\t\tif (!orderId) {\n\t\t\tthis.router.navigateByUrl('/main/home');\n\t\t\treturn false;\n\t\t}\n\t\tconst driveToWarehouseFrom = await this.store.driveToWarehouseFrom;\n\t\tif (driveToWarehouseFrom === 'delivery') {\n\t\t\tthis.router.navigateByUrl('/main/drive-to-warehouse');\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { CanLoad, Route, Router } from '@angular/router';\nimport { Store } from 'services/store.service';\nimport { OrderRouter } from '@modules/client.common.angular2/routers/order-router.service';\nimport { first } from 'rxjs/operators';\nimport OrderCarrierStatus from '@modules/server.common/enums/OrderCarrierStatus';\n\n@Injectable()\nexport class DriveToWarehouseModuleGuard implements CanLoad {\n\tconstructor(\n\t\tprivate readonly store: Store,\n\t\tprivate readonly router: Router,\n\t\tprivate readonly orderRouter: OrderRouter\n\t) {}\n\n\tasync canLoad(route: Route) {\n\t\tconst orderId = await this.store.orderId;\n\t\tif (orderId) {\n\t\t\tconst order = await this.orderRouter\n\t\t\t\t.get(orderId, {\n\t\t\t\t\tpopulateCarrier: false,\n\t\t\t\t\tpopulateWarehouse: false,\n\t\t\t\t})\n\t\t\t\t.pipe(first())\n\t\t\t\t.toPromise();\n\n\t\t\tconst driveToWarehouseFrom = await this.store.driveToWarehouseFrom;\n\n\t\t\tif (driveToWarehouseFrom === 'delivery') {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (order.carrierStatus > OrderCarrierStatus.CarrierSelectedOrder) {\n\t\t\t\tthis.router.navigateByUrl('/main/starting-delivery');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.router.navigateByUrl('/main/home');\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { CanLoad, Route, Router } from '@angular/router';\nimport { Store } from 'services/store.service';\n\n@Injectable()\nexport class HomeModuleGuard implements CanLoad {\n\tconstructor(\n\t\tprivate readonly store: Store,\n\t\tprivate readonly router: Router\n\t) {}\n\n\tasync canLoad(route: Route) {\n\t\tconst orderId = await this.store.orderId;\n\t\tif (orderId) {\n\t\t\tthis.router.navigateByUrl('/main/drive-to-warehouse');\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { MainPage } from './main';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { Vibration } from '@ionic-native/vibration/ngx';\nimport { CommonModule } from '@angular/common';\nimport { LocalNotifications } from '@ionic-native/local-notifications/ngx';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { GeoLocationService } from '../../services/geo-location.service';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { HomeModuleGuard } from './home/home.module.guard';\nimport { DeliveryModuleGuard } from './delivery/delivery.module.guard';\nimport { StartingDeliveryModuleGuard } from './starting-delivery/starting-delivery.module.guard';\nimport { DriveToWarehouseModuleGuard } from './drive-to-warehouse/drive-to-warehouse.module.guard';\n\nconst routes: Routes = [\n\t{\n\t\tpath: '',\n\t\tcomponent: MainPage,\n\t\tchildren: [\n\t\t\t{\n\t\t\t\tpath: 'home',\n\t\t\t\tloadChildren: () =>\n\t\t\t\t\timport('./home/home.module').then((m) => m.HomePageModule),\n\t\t\t\tcanLoad: [HomeModuleGuard],\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath: 'drive-to-warehouse',\n\t\t\t\tloadChildren: () =>\n\t\t\t\t\timport(\n\t\t\t\t\t\t'./drive-to-warehouse/drive-to-warehouse.module'\n\t\t\t\t\t).then((m) => m.DriveToWarehousePageModule),\n\t\t\t\tcanLoad: [DriveToWarehouseModuleGuard],\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath: 'starting-delivery',\n\t\t\t\tloadChildren: () =>\n\t\t\t\t\timport('./starting-delivery/starting-delivery.module').then(\n\t\t\t\t\t\t(m) => m.StartingDeliveryPageModule\n\t\t\t\t\t),\n\t\t\t\tcanLoad: [StartingDeliveryModuleGuard],\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath: 'delivery',\n\t\t\t\tloadChildren: () =>\n\t\t\t\t\timport('./delivery/delivery.module').then(\n\t\t\t\t\t\t(m) => m.DeliveryPageModule\n\t\t\t\t\t),\n\t\t\t\tcanLoad: [DeliveryModuleGuard],\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath: '',\n\t\t\t\tpathMatch: 'full',\n\t\t\t\tredirectTo: 'home',\n\t\t\t},\n\t\t],\n\t},\n];\n\n@NgModule({\n\tdeclarations: [MainPage],\n\timports: [\n\t\tCommonModule,\n\t\tIonicModule,\n\t\tRouterModule.forChild(routes),\n\t\tTranslateModule.forChild(),\n\t],\n\tentryComponents: [MainPage],\n\tproviders: [\n\t\tGeolocation,\n\t\tVibration,\n\t\tLocalNotifications,\n\t\tGeoLocationService,\n\t\tHomeModuleGuard,\n\t\tDriveToWarehouseModuleGuard,\n\t\tStartingDeliveryModuleGuard,\n\t\tDeliveryModuleGuard,\n\t],\n})\nexport class MainPageModule {}\n","export default \".carrier-view {\\n  padding-top: 42px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2l0ZXhwZXJ0L0RvY3VtZW50cy9Eb2xjZUdyb2NlcnkvcGFja2FnZXMvY2Fycmllci1tb2JpbGUtaW9uaWMvc3JjL3BhZ2VzL21haW4vbWFpbi5zY3NzIiwic3JjL3BhZ2VzL21haW4vbWFpbi5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0MsaUJBQWlCO0FDQ2xCIiwiZmlsZSI6InNyYy9wYWdlcy9tYWluL21haW4uc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jYXJyaWVyLXZpZXcge1xuXHRwYWRkaW5nLXRvcDogNDJweDtcbn1cbiIsIi5jYXJyaWVyLXZpZXcge1xuICBwYWRkaW5nLXRvcDogNDJweDtcbn1cbiJdfQ== */\";","import {\n\tComponent,\n\tViewChild,\n\tElementRef,\n\tOnInit,\n\tOnDestroy,\n} from '@angular/core';\n\nimport { CarrierRouter } from '@modules/client.common.angular2/routers/carrier-router.service';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport CarrierStatus from '@modules/server.common/enums/CarrierStatus';\nimport { generateObjectIdString } from '@modules/server.common/utils';\nimport GeoLocation from '@modules/server.common/entities/GeoLocation';\nimport { Store } from '../../services/store.service';\nimport IGeoLocation from '@modules/server.common/interfaces/IGeoLocation';\nimport { GeoLocationService } from '../../services/geo-location.service';\nimport { Platform } from '@ionic/angular';\nimport IOrder from '@modules/server.common/interfaces/IOrder';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n\tselector: 'page-main',\n\ttemplateUrl: 'main.html',\n\tstyleUrls: ['main.scss'],\n})\nexport class MainPage implements OnInit, OnDestroy {\n\tselectedOrder: IOrder;\n\n\tprivate watch: any;\n\tprivate isOnline: boolean;\n\tprivate isMapRendered: boolean;\n\tprivate destroy$ = new Subject<void>();\n\n\tconstructor(\n\t\tprivate platform: Platform,\n\t\tprivate carrierRouter: CarrierRouter,\n\t\tprivate geolocation: Geolocation,\n\t\tprivate geoLocationService: GeoLocationService,\n\t\tprivate store: Store\n\t) {}\n\n\tngOnInit(): void {\n\t\tthis.platform.ready().then(() => {\n\t\t\tconsole.warn('MainPage Loaded');\n\t\t\tthis.watchLocation();\n\t\t\tthis.watchOrderStatus();\n\t\t});\n\t}\n\n\twatchLocation() {\n\t\tsetInterval(() => {\n\t\t\tif (this.isOnline) {\n\t\t\t\tconst carrier$ = this.carrierRouter\n\t\t\t\t\t.get(this.store.carrierId)\n\t\t\t\t\t.pipe(takeUntil(this.destroy$))\n\t\t\t\t\t.subscribe(async (carrier) => {\n\t\t\t\t\t\tif (carrier.status === CarrierStatus.Online) {\n\t\t\t\t\t\t\tthis.geolocation\n\t\t\t\t\t\t\t\t.getCurrentPosition()\n\t\t\t\t\t\t\t\t.then((position) => {\n\t\t\t\t\t\t\t\t\tconst carrierLong =\n\t\t\t\t\t\t\t\t\t\tcarrier.geoLocation.coordinates.lng;\n\t\t\t\t\t\t\t\t\tconst carrierLat =\n\t\t\t\t\t\t\t\t\t\tcarrier.geoLocation.coordinates.lat;\n\n\t\t\t\t\t\t\t\t\tconst currentLong =\n\t\t\t\t\t\t\t\t\t\tposition.coords.longitude;\n\t\t\t\t\t\t\t\t\tconst currentLat = position.coords.latitude;\n\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tcarrierLong !== currentLong ||\n\t\t\t\t\t\t\t\t\t\tcarrierLat !== currentLat\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tthis.carrierRouter\n\t\t\t\t\t\t\t\t\t\t\t.updateGeoLocation(\n\t\t\t\t\t\t\t\t\t\t\t\tcarrier.id,\n\t\t\t\t\t\t\t\t\t\t\t\tnew GeoLocation({\n\t\t\t\t\t\t\t\t\t\t\t\t\t_createdAt: new Date().toString(),\n\t\t\t\t\t\t\t\t\t\t\t\t\t_updatedAt: new Date().toString(),\n\t\t\t\t\t\t\t\t\t\t\t\t\t_id: generateObjectIdString(),\n\t\t\t\t\t\t\t\t\t\t\t\t\tcity:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcarrier.geoLocation\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.city,\n\t\t\t\t\t\t\t\t\t\t\t\t\tcountryId:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcarrier.geoLocation\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.countryId,\n\t\t\t\t\t\t\t\t\t\t\t\t\tstreetAddress:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcarrier.geoLocation\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.streetAddress,\n\t\t\t\t\t\t\t\t\t\t\t\t\thouse:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcarrier.geoLocation\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.house,\n\t\t\t\t\t\t\t\t\t\t\t\t\tpostcode: carrier\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.geoLocation.postcode\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? carrier.geoLocation\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.postcode\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\tloc: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'Point',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcoordinates: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentLong,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentLat,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'User location updated.'\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\tcarrier$.unsubscribe();\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tcarrier$.unsubscribe();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t\t\t'Error getting location',\n\t\t\t\t\t\t\t\t\t\terror\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tcarrier$.unsubscribe();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t}\n\t\t}, 3000);\n\t}\n\n\twatchOrderStatus() {\n\t\tthis.store.selectedOrder$\n\t\t\t.pipe(takeUntil(this.destroy$))\n\t\t\t.subscribe((o) => (this.selectedOrder = o));\n\t}\n\n\tngOnDestroy(): void {\n\t\tthis.destroy$.next();\n\t\tthis.destroy$.complete();\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { CanLoad, Route, Router } from '@angular/router';\nimport { Store } from 'services/store.service';\nimport { OrderRouter } from '@modules/client.common.angular2/routers/order-router.service';\nimport { first } from 'rxjs/operators';\nimport OrderCarrierStatus from '@modules/server.common/enums/OrderCarrierStatus';\n\n@Injectable()\nexport class StartingDeliveryModuleGuard implements CanLoad {\n\tconstructor(\n\t\tprivate readonly store: Store,\n\t\tprivate readonly router: Router,\n\t\tprivate readonly orderRouter: OrderRouter\n\t) {}\n\n\tasync canLoad(route: Route) {\n\t\tconst orderId = await this.store.orderId;\n\t\tif (!orderId) {\n\t\t\tthis.router.navigateByUrl('/main/home');\n\t\t\treturn false;\n\t\t} else {\n\t\t\tconst order = await this.orderRouter\n\t\t\t\t.get(orderId, {\n\t\t\t\t\tpopulateCarrier: false,\n\t\t\t\t\tpopulateWarehouse: false,\n\t\t\t\t})\n\t\t\t\t.pipe(first())\n\t\t\t\t.toPromise();\n\n\t\t\tif (order.carrierStatus > OrderCarrierStatus.CarrierPickedUpOrder) {\n\t\t\t\tthis.router.navigateByUrl('/main/delivery');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { environment } from '../environments/environment';\n\n@Injectable()\nexport class GeoLocationService {\n\tdefaultLocation() {\n\t\tconst longitude = environment['DEFAULT_LONGITUDE'];\n\t\tconst latitude = environment['DEFAULT_LATITUDE'];\n\t\tif (latitude && longitude) {\n\t\t\treturn {\n\t\t\t\tcoords: {\n\t\t\t\t\tlongitude,\n\t\t\t\t\tlatitude,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t\treturn;\n\t}\n}\n"],"sourceRoot":"webpack:///"}